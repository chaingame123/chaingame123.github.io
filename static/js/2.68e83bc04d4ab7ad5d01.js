webpackJsonp([2],{D4Sz:function(t,a){},oCBF:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("rViV");var c=e("d2gY"),n=(e("PJh5"),{props:["worldRecordStatic"],data:function(){return{eosClient:null,recordDataList:[],recordAllDataList:[],searchAccount:"",totalSize:0,currentPage:1,pageSize:10}},created:function(){this.eosClient=this.$EOS(c.a.actionNetwork),this.getActions()},mounted:function(){var t=this;setInterval(function(){t.getActions()},3e3)},methods:{getActions:function(t){var a=this;this.currentPage=1;var e=t||c.a.gameContract;this.eosClient.getActions({account_name:e,pos:-1,offset:-100}).then(function(t){a.actions=t.actions.map(function(t){return t}).filter(function(t){return(t=t.action_trace.act).account==c.a.tokenContract&&"transfer"==t.name&&t.data.to==c.a.gameContract&&t.data.to!=c.a.toContract||(t.account==c.a.gameContract&&"sell"==t.name||t.account==c.a.gameContract&&"destroy"==t.name)}),a.recordAllDataList=a.actions,a.recordAllDataList=a.recordAllDataList.reverse(),a.totalSize=a.recordAllDataList.length,a.recordDataList=a.recordAllDataList.slice(0,10)},function(t){console.log(t)})},handleChange:function(t){this.recordDataList=this.recordAllDataList.slice(10*(t-1),10*t)},getAccount:function(t){this.searchAccount=t,this.$ms.$emit("setAccount",t),this.$emit("setAccount",t)},clearTxt:function(){this.searchAccount=""},search:function(t){this.getActions(t)}}}),o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"worldRecord-box animated",class:1==t.worldRecordStatic?"fadeInLeft":"fadeOutLeft"},[e("div",{staticClass:"title"},[e("p",[t._v(t._s(t.$t("worldRecord.title")))])]),t._v(" "),e("div",{staticClass:"search-box",staticStyle:{display:"none"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchAccount,expression:"searchAccount"}],staticClass:"search-txt",attrs:{type:"text",placeholder:"请输入用户账号"},domProps:{value:t.searchAccount},on:{input:function(a){a.target.composing||(t.searchAccount=a.target.value)}}}),t._v(" "),e("span",{staticClass:"close",on:{click:function(a){t.clearTxt()}}},[t._v("x")]),t._v(" "),e("span",{staticClass:"search-icon",on:{click:function(a){t.search(t.searchAccount)}}})]),t._v(" "),t.recordDataList.length>0?e("ul",{staticClass:"recordData"},t._l(t.recordDataList,function(a){return e("li",{key:a.index,staticClass:"item"},[e("span",[t._v(t._s(t._f("moment")(a.block_time)))]),t._v(" "),e("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.getAccount("transfer"==a.action_trace.act.name?a.action_trace.act.data.from:a.action_trace.act.data.account)}}},[t._v(t._s("transfer"==a.action_trace.act.name?a.action_trace.act.data.from:a.action_trace.act.data.account))]),t._v(" "),e("span",[t._v(t._s("transfer"==a.action_trace.act.name?a.action_trace.act.data.quantity:a.action_trace.act.data.bytes+" "+t.$t("worldRecord.sophon")))]),t._v(" "),e("span",{staticClass:"circle",class:["transfer"==a.action_trace.act.name?"green":"sell"==a.action_trace.act.name?"orange":"red"]})])})):e("div",{staticClass:"recordData",staticStyle:{"font-family":"MicrosoftYaHei"}},[t._v(t._s(t.$t("worldRecord.loading")))]),t._v(" "),e("el-pagination",{staticClass:"game-pagination",attrs:{layout:"prev, pager, next",total:t.totalSize,"current-page":t.currentPage,"page-size":t.pageSize},on:{"update:currentPage":function(a){t.currentPage=a},"current-change":t.handleChange}})],1)},staticRenderFns:[]};var r=e("VU/8")(n,o,!1,function(t){e("D4Sz"),e("tkab")},"data-v-b9707378",null);a.default=r.exports},tkab:function(t,a){}});